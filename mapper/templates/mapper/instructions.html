{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="dkm-container my-4" id="instructions-container">
    <h2 class="underline-orange mb-2">Instructions</h2>
        
    <p class="para-768">
        You can find the links to all the pages of this app in the menu, which is in
        the yellow panel on the right hand side of the screen. 
    </p>

    <p class="para-narrow">
        You can find the links to all the pages of this app in the menu, which 
        can be revealed by clicking the hamburger icon (three horizontal lines) 
        in the top right of the screen. 
    </p>

    <h3 class="mb-2">How to report the location of a dropped kerb</h3>
    
    <p>
        In the menu, click <a href="{% url 'map-reports' %}">Add Report</a>. 
        A map will load, as shown below. The first time 
        it loads, you will need to allow the app to access your location.
        If you do not allow this, the map will be centred on the UK.
        You can zoom to your current location at any time by clicking 
        the crosshair button 
        <img src="{% static 'images/crosshair.png' %}" alt="crosshair icon" class="map-button-inline">.
    </p>
    
    <div class="mt-2 para-422">
        <img src="{% static 'images/instructions_1.png' %}" alt="Map loads" class="instructions-img">
    </div>
    <div class="mt-2 para-423">
        <img src="{% static 'images/instructions_1_wide.png' %}" alt="Map loads" class="instructions-img">
    </div>

    <p>You can toggle between this map view and satellite view by clicking the toggle satellite view button
        <img src="{% static 'images/toggle_satellite_button.png' %}" alt="Toggle satellite button" class="map-button-inline">
    </p>
    <p>When in satellite view, the button turns orange.
        <img src="{% static 'images/toggle_satellite_button_orange.png' %}" alt="Toggle satellite button turned orange" class="map-button-inline">
    </p>

    <div class="mt-2 para-422">
        <img src="{% static 'images/instructions_2.png' %}" alt="Satellite view" class="instructions-img">
    </div>
    <div class="mt-2 para-423">
        <img src="{% static 'images/instructions_2_wide.png' %}" alt="Satellite view" class="instructions-img">
    </div>

    <p class="bold-font mb-1 mt-3">Find your dropped kerb on the map</p>
    <p>To search for a location, you can use the search bar in the top left of the map.
        Type a place or location in the search bar, and then click the search button 
        <img src="{% static 'images/search_button.png' %}" alt="Search button" class="map-button-inline">.
        A list of search results will appear below the search bar, and you can select one of them to centre the map on that location.</p>
        
    <div class="mt-2 para-422">
        <img src="{% static 'images/search_results.png' %}" alt="Search results" class="instructions-img">
    </div>
    <div class="mt-2 para-423">
        <img src="{% static 'images/search_results_wide.png' %}" alt="Search results" class="instructions-img">
    </div>

    <p>You can also navigate to a location by moving the map around as follows:</p>

    <p>On mobile devices:</p>
    <ul>
        <li>Drag your finger on the map to move it around (pan).</li>
        <li>Use two fingers to pinch to zoom in and out.</li>
    </ul>

    <p>On desktop computers and laptops:</p>
    <ul>
        <li>Click on the map and drag it to move it around (pan).</li>
        <li>To zoom in and out, you can either:</li>
        <ul>
            <li>Use the scroll wheel on your mouse.</li>
            <li>If you have a touchpad, use two fingers to pinch to zoom in and out.</li>
            <li>Press Ctrl and + to zoom in, and Ctrl and - to zoom out.</li>
        </ul>
    </ul>

    <p>Toggle between the map-view and satellite view to help you locate the dropped kerb.</p>
    <p>Notice that if you zoom right in in map-view you can see the outlines of paths. 
        Paths are shown in grey, with a dotted line where they meet the road (see the map-view image below for an example).</p>
    <p>Toggle to satellite view to zone in on the location of the dropped kerb. 
        Even if the dropped kerb is blurry, or hidden by a tree, the satellite view 
        can provide additional visual information to help you find it (see the satellite-view image below for an example, a dropped kerb is circled in blue).</p>
    </p>

    <div class="row">
        <div class="mt-2 para-422 col-12 col-xl-6">
            <img src="{% static 'images/map_view_zoom.png' %}" alt="Map view zoomed in" class="instructions-img">
        </div>
        <div class="mt-2 para-423 col-12 col-xl-6">
            <img src="{% static 'images/map_view_zoom_wide.png' %}" alt="Map view zoomed in" class="instructions-img">
        </div>

        <div class="mt-2 para-422 col-12 col-xl-6">
            <img src="{% static 'images/satellite_view_zoom.png' %}" alt="Satellite view zoomed in" class="instructions-img">
        </div>
        <div class="mt-2 para-423 col-12 col-xl-6">
            <img src="{% static 'images/satellite_view_zoom_wide.png' %}" alt="Satellite view zoomed in" class="instructions-img">
        </div>
    </div>

    <p class="bold-font mb-1 mt-3">Activate new report mode</p>

    <p>Now you have found your dropped kerb on the map, click on the map marker button 
        <img src="{% static 'images/add_report_button.png' %}" alt="Search button" class="map-button-inline"> 
        to activate new report mode.</p>
        
    <p>The button will turn orange 
        <img src="{% static 'images/add_report_button_orange.png' %}" alt="Search button" class="map-button-inline"> 
        and your cursor will turn into a big blue cross <i class="bi bi-plus" id="big-plus"></i> 
        which means you can now click on the location of the dropped kerb on the map.</p>

    <p class="bold-font mb-1 mt-3">Create the new report</p>

    <p>
        Click on the location of the dropped kerb on the map. 
        A marker will appear where you clicked, and an orange form will open on bottom left of the screen.
        If you click on the map again while the form is open, the marker will move to the new location, and 
        the form will update to show the new location, as given by the longitude and latitude.
    </p>

    <p>If you would like to record the condition of the dropped kerb, you can select from three options:</p>    
    
    <ul>
        <li class="bullet-green">Green: The dropped kerb is usable and in good condition.</li>
        <li class="bullet-orange">Orange: The dropped kerb is usable but needs improvement.</li>
        <li class="bullet-red">Red: The dropped kerb is dangerous or not usable.</li>
    </ul>
    
    <p>
        If you select either Orange or Red, please select at least one reason why.
        You many also leave a comment to further clarify your reason for selecting the condition.</li>
    </p>

    <p>Blue: There is no dropped kerb at this location but one is needed to provide access.</p>
    <h3>How to edit a report</h3>

    <p>There are two ways to edit a report:</p>
    
    <p>If you need to adjust the position of the marker, and not make any other changes:</p>
    <p>On the map, double click on the marker. It will turn white, which means you can drag 
        it to move it to a different location.
    </p> 
        
    <p>If you want to change any element of the report, you can do so on the edit report page. This can be accessed either:</p>    
    <ul>
        <li>On the map, (single) click on the marker to open a popup, which contains a link to the edit report page.</li>
        <li>Click the List Reports link in the menu to display all your reports, each of which is proceeded by an 'edit' link.</li>
    </ul>
    
    <h3>View your reports</h3>
    <ol>
        <li>Go to the <a href="{% url 'reports-list' %}">List Reports</a> page.</li>
        <li>Here you can see all your submitted reports.</li>
        <li>You can also edit or delete your reports if needed.</li>
    </ol>

    <h3>How to do something else</h3>

    <p>If you have any questions, feel free to contact us through the <a href="{% url 'contact' %}">Contact</a> page.</p>

    <div class="call-to-action" class="text-center my-1">
        {% if not user.is_authenticated %}
            <div id="not-logged-in">
                <a href="{% url 'account_login' %}" class="btn btn-mango">Sign In</a>
                <a href="{% url 'account_signup' %}" class="btn btn-mango">Create Account</a>
            </div>
        {% else %}
            <div id="logged-in">
                <a href="{% url 'map-reports' %}" class="btn btn-mango">Create Report</a>
            </div>
        {% endif %}
    </div>

</div>
{% endblock %}